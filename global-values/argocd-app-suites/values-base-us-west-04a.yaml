---
# This file was originally generated by a template in:
# https://github.com/coreweave/k8s-infrastructure-ansible/blob/master/roles/administrative_tasks/templates/new_zone/values-base-zone.yaml.j2
# NetBox Site: https://coreweave.cloud.netboxapp.com/dcim/sites/48/
clusterSpec:
  zone: us-west-04a
argocd:
  customerClusters:
    be1096-fleetops-us-west-04a:
      releaseName: argocd-app-suites-be1096-fleetops-us-west-04a
      valueFiles:
        - values-base-k8s-1-31.yaml
        - values-base-fleetops.yaml
        - values-base-arm64.yaml
    aef4b2-whale:
      valueFiles:
        - values-base-us-west-04a.yaml
        - values-base-k8s-1-31.yaml
        - values-base-flcc-cks.yaml
    f1d335-poc:
      valueFiles:
        - values-base-us-west-04a.yaml
        - values-base-k8s-1-31.yaml
        - values-base-flcc-cks.yaml
    c21b77-mslabs:
      valueFiles:
        - values-base-us-west-04a.yaml
        - values-base-k8s-1-31.yaml
        - values-base-flcc-cks.yaml
    cw1337-ml-dev:
      valueFiles:
        - values-base-us-west-04a.yaml
        - values-base-k8s-1-31.yaml
        - values-base-flcc-cks.yaml
    a74af4-instance-test:
      valueFiles:
        - values-base-us-west-04a.yaml
        - values-base-k8s-1-31.yaml
        - values-base-flcc-cks.yaml
    b768de-poc:
      valueFiles:
        - values-base-us-west-04a.yaml
        - values-base-k8s-1-31.yaml
        - values-base-flcc-cks.yaml
    a9f67a-cks2:
      valueFiles:
        - values-base-us-west-04a.yaml
        - values-base-k8s-1-31.yaml
        - values-base-flcc-cks.yaml
    e3a840-cks:
      valueFiles:
        - values-base-us-west-04a.yaml
        - values-base-k8s-1-31.yaml
        - values-base-flcc-cks.yaml
    117248-poc:
      valueFiles:
        - values-base-us-west-04a.yaml
        - values-base-k8s-1-31.yaml
        - values-base-flcc-cks.yaml
    a29f68-cks:
      valueFiles:
        - values-base-us-west-04a.yaml
        - values-base-k8s-1-31.yaml
        - values-base-flcc-cks.yaml

applications:
  calico:
    valuesMerge:
      networkConfig:
        peerASN: "4213246000"
        hostCIDRs:
          - 10.190.192.0/18 # Site specific CIDR for all hosts (DPU-TO-NODE)
        networkMgmtCIDRs:
          - 10.191.0.0/19 # Site specific CIDR for network management
          - 10.250.46.0/23 # Site specific CIDR for backbone network
        dpuCIDRs:
          - 10.190.64.0/18 # Site specific CIDR for DPU BMC
          - 10.190.128.0/18 # Site specific CIDR for DPU OOB
        dpuLBCIDRs:
          - 10.191.63.0/24 # Site specific CIDR for DPU LB
        cwMgmtCIDRs:
          - 10.80.240.0/20 # Site specific CIDR for cw-mgmt
        ipmiCIDRs:
          - 10.190.0.0/18 # Site specific CIDR for host IPMI
  cilium:
    valuesMerge:
      networkConfig:
        peerASN: "4213246000"
  cilium-crs:
    valuesMerge:
      networkConfig:
        peerASN: "4213246000"
  epimetheus:
    valuesMerge:
      slackChannelID: null # TODO: epimetheus-us-west-04a
  katalyst-operator:
    valuesMerge:
      networkConfig:
        peerASN: "4213246000"
  npo:
    enabled: true
    valuesMerge:
      enableInstanceTypeAndTypeLabelSetting: true
  nimbus-vpc-controller:
    valuesMerge:
      cwHostPrefix: 10.190.192.0/18
  vast-csi: &vast_csi
    hasDedicatedTenant: true
    valuesMerge:
      vmsService:
        services:
          - name: vms
            endpoints:
              - ip: 10.191.32.60 # Vast CSI endpoint
      controller:
        tolerations:
          - key: is_cpu_compute
            operator: Exists
        affinity:
          nodeAffinity:
            requiredDuringSchedulingIgnoredDuringExecution:
              nodeSelectorTerms:
                - matchExpressions:
                    - key: node.coreweave.cloud/reserved
                      operator: In
                      values:
                        - control-plane
  vast-csi-controller:
    <<: *vast_csi
  npo-cfg:
    enabled: true
