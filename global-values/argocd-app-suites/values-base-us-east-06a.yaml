---
# This file was originally generated by a template in:
# https://github.com/coreweave/k8s-infrastructure-ansible/blob/master/roles/administrative_tasks/templates/new_zone/values-base-zone.yaml.j2
# NetBox Site: https://coreweave.cloud.netboxapp.com/dcim/sites/40/
clusterSpec:
  zone: us-east-06a

applications:
  calico:
    valuesMerge:
      networkConfig:
        peerASN: "4212446000"
        hostCIDRs:
        - 10.192.192.0/18  # Site specific CIDR for all hosts (DPU-TO-NODE)
        networkMgmtCIDRs:
        - 10.193.0.0/19  # Site specific CIDR for network management
        - 10.250.44.0/23 # Site specific CIDR for backbone network
        dpuCIDRs:
        - 10.192.64.0/18  # Site specific CIDR for DPU BMC
        - 10.192.128.0/18  # Site specific CIDR for DPU OOB
        dpuLBCIDRs:
          - 10.193.63.0/24  # Site specific CIDR for DPU LB
        cwMgmtCIDRs:
        - 10.81.96.0/20  # Site specific CIDR for cw-mgmt
        ipmiCIDRs:
        - 10.192.0.0/18  # Site specific CIDR for host IPMI
  cilium:
    valuesMerge:
      networkConfig:
        peerASN: "4212446000"
  cilium-crs:
    valuesMerge:
      networkConfig:
        peerASN: "4212446000"
  epimetheus:
    valuesMerge:
      slackChannelID: null # TODO: epimetheus-us-east-06a
  katalyst-operator:
    valuesMerge:
      networkConfig:
        peerASN: "4212446000"
  nimbus-vpc-controller:
    valuesMerge:
      cwHostPrefix: 10.192.192.0/18
  vast-csi: &vast_csi
    hasDedicatedTenant: true
    valuesMerge:
      vmsService:
        services:
          - name: vms
            endpoints:
              - ip: 10.193.32.60  # Vast CSI endpoint
      controller:
        tolerations:
          - key: is_cpu_compute
            operator: Exists
        affinity:
          nodeAffinity:
            requiredDuringSchedulingIgnoredDuringExecution:
              nodeSelectorTerms:
                - matchExpressions:
                    - key: node.coreweave.cloud/reserved
                      operator: In
                      values:
                        - control-plane
  vast-csi-controller:
    <<: *vast_csi

argocd:
  customerClusters:
    be1096-fleetops-us-east-06a:
      releaseName: argocd-app-suites-be1096-fleetops-us-east-06a
      valueFiles:
        - values-base-us-east-06a.yaml
        - values-base-k8s-1-31.yaml
        - values-base-fleetops.yaml
    0c2a9a-training3:
      valueFiles:
        - values-base-us-east-06a.yaml
        - values-base-k8s-1-31.yaml
        - values-base-flcc-cks.yaml
    cw1337-ml-dev-use6a:
      valueFiles:
        - values-base-us-east-06a.yaml
        - values-base-k8s-1-31.yaml
        - values-base-flcc-cks.yaml
    b5500f-us-east-06-prod:
      valueFiles:
        - values-base-us-east-06a.yaml
        - values-base-k8s-1-31.yaml
        - values-base-flcc-cks.yaml
