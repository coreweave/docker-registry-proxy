---
# This file was originally generated by a template in:
# https://github.com/coreweave/k8s-infrastructure-ansible/blob/master/roles/administrative_tasks/templates/new_zone/values-base-storage.yaml.j2
clusterSpec:
  networkAllocations:
    externalLbCIDRs:
      cw-mgmt: "10.80.252.0/27"
      public: "166.19.35.128/26"
  apiserver:
    addtlUrl: api-cw-mgmt.coreweave-storage.k8s.us-west-04a.int.coreweave.com

applications:
  calico:
    valuesMerge:
      typha:
        enabled: false # Disable typha since these clusters are small and don't need the extra overhead
  control-plane:
    valuesMerge:
      etcd-events:
        replicaCount: 5
      etcd-local:
        replicaCount: 5
      kubeception:
        apiserver:
          service:
            loadBalancerIP: 172.27.80.13
            addtlLocalService:
              loadBalancerIP: 10.80.248.13
      pki:
        apiServer:
          ipSans:
            - 127.0.0.1
            - 172.27.80.13
            - 10.80.248.13
            - 172.30.0.1
  cw-node-controller:
    valuesMerge:
      nodeLifeCycle:
        applyTaints: false
  in-cluster-config:
    valuesMerge:
      clusterInfo:
        certificateAuthorityData: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURiekNDQWxlZ0F3SUJBZ0lRSE1FYTByNVlFa0djVFFTRkcrWE5lakFOQmdrcWhraUc5dzBCQVFzRkFEQkMKTVJJd0VBWURWUVFLRXdsRGIzSmxWMlZoZG1VeEZ6QVZCZ05WQkFzVERrbHVabkpoYzNSeWRXTjBkWEpsTVJNdwpFUVlEVlFRREV3cExkV0psY201bGRHVnpNQjRYRFRJME1URXhOREl5TkRJeU1sb1hEVE0wTURreU16SXlOREl5Ck1sb3dRakVTTUJBR0ExVUVDaE1KUTI5eVpWZGxZWFpsTVJjd0ZRWURWUVFMRXc1SmJtWnlZWE4wY25WamRIVnkKWlRFVE1CRUdBMVVFQXhNS1MzVmlaWEp1WlhSbGN6Q0NBU0l3RFFZSktvWklodmNOQVFFQkJRQURnZ0VQQURDQwpBUW9DZ2dFQkFMRDNMc3lzUVhDSDJCSXF2UlJJazVlWmhWZHpNRXFoLzNpc21objZqUTlYeURsaENiUzVKcGdpCkgvK0U4T0grUmFXNGxKaXgwUDdRNHlkOC9RTjNqR001MjBUbFBmWHBLUUZORWg2aXpZSUJuc0FUeG5xa0JZV0EKeGwrcDZBMENnV1FQRWQ4UVNiN1JuZXBSQWVNZFVKdWZCRFdMTzBqOGRudCtJK2duK0FTRnozWi9KMVlHSWJtdAorVm93VWlIVS8xVDZXUnR1M2FRME5Ub2xxLzBQdENCMFJDeEJZSHQ0bG5jRmo3Z1JvenRPRG5xbzZwelR4MDhJCnpXZGVzd3RST3lvbVFRWHkzSkxERDllT2d1TEhrVXE2clNoY1BXa1E0TVU2c1RrYUxnaHM3YUdsNUZKU2dGdWgKR0lwRG12d1AwSWFtcyszdk9BTFM2d2tPaEEwTXFaVUNBd0VBQWFOaE1GOHdEZ1lEVlIwUEFRSC9CQVFEQWdLawpNQjBHQTFVZEpRUVdNQlFHQ0NzR0FRVUZCd01CQmdnckJnRUZCUWNEQWpBUEJnTlZIUk1CQWY4RUJUQURBUUgvCk1CMEdBMVVkRGdRV0JCVDF3b244L0xMMnpZbDc3VUhPbTVSQng3bXVBVEFOQmdrcWhraUc5dzBCQVFzRkFBT0MKQVFFQWtHWFV1UXo0MFVoWk0yd0hKa0piQ2FHdWFPNXhOZU1TQmV3Y252WE5aUXVIMlFGdk45bFozVkxZRkdqRQpSVDJSMW5jUTJIMHVxSnp0MlZnV1FmdVh1V0hLdnRGTEpveTdZOGxmZ1piSXNnNmdIOTY4U3lIUVZBbXFWTTNiClpmUk1GR3gwZjZpWVdWOFRXUVI5dHhoVUEzYy9CWjB5bHkyMkpXemJRUisxSlUxaTdJd1BKMTYzbnFlUkVNemMKQ2JEdlVEUG1xejArMU1OelYvK3FTa2d3cWNyMXBTMkFFaUhVdjBzQndsNS9rSkMwWUN2R3BGd29DMVVPK2tlawpDaSs1YUtDK3dTWGpZRWhxWXQ1ZEx4bVlRSWVNVFFTbnUzOGtkcWM1ZHh3c2dSd0JxSWhXMzBZUUlkajBGSkRjCnN5RWtTTFR6YXl4alhXU2ZhanhmOWNya2p3PT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
      kubeletConfigOverrides:
        maxPods: 256
  jwks-auth-push:
    enabled: true
  regproxy:
    enabled: false  # Is this really needed in a storage cluster?
    valuesMerge:
      regproxy:
        dev: true
  pvmo:
    valuesMerge:
      monitoring:
        enabled: true
        serviceAccount:
          name: vmagent-us-west-04-coreweave-us-west-04a-internal
          namespace: victoria-metrics
  npo:
    enabled: false
  npo-cfg:
    enabled: false
