---
# This file was originally generated by a template in:
# https://github.com/coreweave/k8s-infrastructure-ansible/blob/master/roles/administrative_tasks/templates/new_zone/values-base-storage.yaml.j2
clusterSpec:
  networkAllocations:
    externalLbCIDRs:
      cw-mgmt: "10.81.108.0/27"
      public: "166.19.39.128/26"
  apiserver:
    addtlUrl: api-cw-mgmt.coreweave-storage.k8s.us-east-06a.int.coreweave.com

applications:
  calico:
    valuesMerge:
      typha:
        enabled: false # Disable typha since these clusters are small and don't need the extra overhead
  control-plane:
    valuesMerge:
      etcd-events:
        replicaCount: 5
      etcd-local:
        replicaCount: 5
      kubeception:
        apiserver:
          service:
            loadBalancerIP: 172.27.80.13
            addtlLocalService:
              loadBalancerIP: 10.81.104.13
      pki:
        apiServer:
          ipSans:
            - 127.0.0.1
            - 172.27.80.13
            - 10.81.104.13
            - 172.30.0.1
  cw-node-controller:
    valuesMerge:
      nodeLifeCycle:
        applyTaints: false
  in-cluster-config:
    valuesMerge:
      clusterInfo:
        certificateAuthorityData: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURjRENDQWxpZ0F3SUJBZ0lSQUxwZk1VMElOOXdHSzZiR2Uxa0lzSnd3RFFZSktvWklodmNOQVFFTEJRQXcKUWpFU01CQUdBMVVFQ2hNSlEyOXlaVmRsWVhabE1SY3dGUVlEVlFRTEV3NUpibVp5WVhOMGNuVmpkSFZ5WlRFVApNQkVHQTFVRUF4TUtTM1ZpWlhKdVpYUmxjekFlRncweU5ERXlNVEl5TWpNMU1EaGFGdzB6TkRFd01qRXlNak0xCk1EaGFNRUl4RWpBUUJnTlZCQW9UQ1VOdmNtVlhaV0YyWlRFWE1CVUdBMVVFQ3hNT1NXNW1jbUZ6ZEhKMVkzUjEKY21VeEV6QVJCZ05WQkFNVENrdDFZbVZ5Ym1WMFpYTXdnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBdwpnZ0VLQW9JQkFRQ2o1ZGJHdUV6TVpFay9hU29ZUks3Y3JPT1AvS2RFcEdDRG5Va0hib0RTcDY2TTkvUmFlWnRrCnE2Mmh0MzlqRUVmbjBuSnRQallnSHFWQ25CTVJCdDZNSmNxekF5TjJ1NEM5MlpqTTYybytxTnV0YW5FK21BRjgKUWx1WUZRb1JPRVlkYlpNR2xzcE5mZ293eUdQa2lOVGtZUGtHajJVV2FwQmhqUWxRQXJrOHB5YWFOaFpkYXdLbQpaNDFiT21nV3VzdHR5Nkl0VVgxcGZVcmdzME1EQU9TK1E3bE5BUVBMZjNKK2lPVXlEM3p0NDY5ckJzVmhPZTkvCjIzUDNXMFc3RmZNd25YbTN2Y3NqbFZBcG9uaTJPUFJLRjlDVzNQR3JCcUoyMkpBVjZ6eGp0bmYydktNSGYrdmsKYjlETDhqdXdMcjZtbDVyWVFLYTYzZnBrYlR6YlV3WURBZ01CQUFHallUQmZNQTRHQTFVZER3RUIvd1FFQXdJQwpwREFkQmdOVkhTVUVGakFVQmdnckJnRUZCUWNEQVFZSUt3WUJCUVVIQXdJd0R3WURWUjBUQVFIL0JBVXdBd0VCCi96QWRCZ05WSFE0RUZnUVVPWFlRdy84Y3J1bldWa2ZFYmg5NjViRU5ZMGd3RFFZSktvWklodmNOQVFFTEJRQUQKZ2dFQkFGZWlyZWg1bmtDK2VhN0JYNlkzUXFSRDlRUlBUbitXTnh2OUFkc2hWUzc3dnUrMTF6S2FUS1UybkJEVApHNlMvUE5OZXZvZjhPRjBOam84b0l5b2tvYjFoV1BudnNPZStRSWtUeld1TUJUeTB5WjI1K1pwR0dWN0p6Q1NtCm9rNnBHSExnNnhKTHVvUGIydm5jYzFxbzU4TUVLMWRhNmJoTDdVZkMzR0swUzhvQnJuVC9nV0JwZmRub1djK2cKaHYxNFVvTDBjQ21HZkRrY2p1Z3pIZHZBS3BCRGIvQ2dQS3NTZlZXQmdWdEFnNkw3UFEyRWNMNUhlWDVZMXBZbgpDSW1HbkRUTzJaZHVnMldMcktBWjc5TDRaeTZUci9RUUhwd2FvaXJXaU9ZVXc5b1dvODVINzhOckxJNUpoQVpxCnBMUVl5VFRzYVFEMU1wMVZmRXNybjdFSlRabz0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
      kubeletConfigOverrides:
        maxPods: 256
  jwks-auth-push:
    enabled: true
  regproxy:
    enabled: false  # Is this really needed in a storage cluster?
    valuesMerge:
      regproxy:
        dev: true
  npo:
    enabled: false
  npo-cfg:
    enabled: false
  pvmo:
    valuesMerge:
      monitoring:
        enabled: true
        serviceAccount:
          name: vmagent-us-east-06-coreweave-us-east-06a-internal
          namespace: victoria-metrics
